import os

from models import runner
from preprocessing import preprocessing
from src.utils.enums import Mode, ModelTypes

if __name__ == '__main__':
    n_rows = 3000000 # number of rows to extract from each file in dataset
    fileName = "combined" + str(n_rows) + ".csv"

    run_mode = Mode.TRAIN # set to mode.SEARCH to run grid searches or mode.TRAIN to train/evaluate models
    models = [ModelTypes.NB, ModelTypes.SVM, ModelTypes.DT, ModelTypes.MLP, ModelTypes.RF, ModelTypes.CNN] # models to train or grid search with

    if not os.path.isfile("processedData/"+fileName):
        preprocessing.preprocess_data(n_rows=n_rows)

    runner.run_models("processedData/" + fileName, run_mode, models)
